// copy file to server
// run docker compose
4g]QHXBzb[n,(Ez}

scp -r C:\Personal\Projects\auto-search-bot root@216.128.182.51:/root/
ssh root@216.128.182.51
cd /root/kijiji/KijijiHelper
docker-compose down -v
docker system prune -a
docker-compose up -d --renew-anon-volumes --build --force-recreate

// Stop all containers
docker stop $(docker ps -a -q)

 // Clean 
 docker system prune -a

// publish
docker image tag faiqhassan-autosearch hungnguyen991995/autosearch
docker image push hungnguyen991995/autosearch


// Start Autosearch
Faiqhassan-facebook:
docker-compose -f docker-compose.yml --env-file /root/production-deploy/auto-search/config/faiqhassan-facebook/env --compatibility -p "faiqhassan-facebook"  up -d --build
Or on local:
docker-compose -f docker-compose.yml --env-file ./config/faiqhassan-facebook/env --compatibility -p "faiqhassan-facebook"  up -d --build

Faiqhassan-kijiji: docker-compose -f docker-compose.yml --env-file /root/production-deploy/auto-search/config/faiqhassan-kijiji/env --compatibility -p "faiqhassan-kijiji"  up -d --build
Tyson-kijiji: docker-compose -f docker-compose.yml --env-file /root/production-deploy/auto-search/config/tyson/env --compatibility -p "tyson"  up -d --build
Thanh-kijiji: docker-compose -f docker-compose.yml --env-file /root/production-deploy/auto-search/config/thanh-kijiji/env --compatibility -p "thanh-kijiji"  up -d --build
Cooil-kijiji: docker-compose -f docker-compose.yml --env-file /root/production-deploy/auto-search/config/cooil-kijiji/env --compatibility -p "cooil-kijiji"  up -d --build
Chingoc: docker-compose -f docker-compose.yml --env-file /root/production-deploy/auto-search/config/chingoc/env --compatibility -p "chingoc"  up -d --build

// Start KijijiHelper
Demo: docker-compose --env-file /root/production-deploy/kijiji-helper/config/demo/env up -d --renew-anon-volumes --build --force-recreate
cjbk89: docker-compose --env-file /root/production-deploy/kijiji-helper/config/cjbk89/env up -d --renew-anon-volumes --build --force-recreate
thanh: docker-compose --env-file /root/production-deploy/kijiji-helper/config/thanh/env up -d --renew-anon-volumes --build --force-recreate
Jus: docker-compose --env-file /root/production-deploy/kijiji-helper/config/jus/env up -d --renew-anon-volumes --build --force-recreate
faihsan: docker-compose --env-file /root/production-deploy/kijiji-helper/config/faihsan/env up -d --renew-anon-volumes --build --force-recreate
faihsan-1: docker-compose --env-file /root/production-deploy/kijiji-helper/config/faihsan-1/env up -d --renew-anon-volumes --build --force-recreate
// Add 2G swap
// https://www.digitalocean.com/community/tutorials/how-to-add-swap-space-on-ubuntu-20-04
sudo fallocate -l 2G /swapfile
sudo chmod 600 /swapfile
sudo mkswap /swapfile
sudo swapon /swapfile
free -h
sudo cp /etc/fstab /etc/fstab.bak
echo '/swapfile none swap sw 0 0' | sudo tee -a /etc/fstab

// logs
docker logs kijiji-helper-api -f

// sync latest update 
docker rm browser -f && docker rm kijiji-helper-api -f && docker rmi hungnguyen991995/kijiji-helper-api -f


